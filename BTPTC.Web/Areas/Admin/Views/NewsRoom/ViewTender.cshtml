
@{
    ViewBag.Title = "ViewTender";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
    var appPath = Convert.ToString(ApplicationInstance.Application["ApplicationPath"]);
}

    <head>

        <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.css" rel="stylesheet" />
        <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/css/bootstrap-datetimepicker.css" rel="stylesheet" />

        @*<link href="@appPath/Contents/Admin/js/DateTimePicker/bootstrap.css" rel="stylesheet" />
        <link href="@appPath/Contents/Admin/js/DateTimePicker/bootstrap-datetimepicker.css" rel="stylesheet" />*@
    </head>
@model List<Tender>
<div class="maincontents">
    <form>
        <h1>Tenders</h1>
        <div class="floatLeft">
            <select class="filter" id="filterByType">
                <option disabled>Filter by Type</option>
                <option selected value="notices">Notices</option>
                <option value="results">Results</option>
                <option value="awarded">Awarded</option>
            </select>
        </div>
        <div class="clear padding10"></div>

        <div class="tenderContainer notices">
            <div class="floatRight">
                @*<a href="#" class="editMetaBtn" data-toggle="modal" data-target="#addNotice">Add Notice</a>*@
                <a href="javascript:void(0)" data-target="#addNotice" id="addNoticebtn" class="editMetaBtn">Add Notice</a>
            </div>
            <div class="clear padding10"></div>
            <div class="homepage">
                <table cellpadding="0" cellspacing="0" class="tblgrey" id="TenderNoticeTbl">
                    <thead>

                        <tr>
                            <th width="60">S/N</th>
                            <th>Project</th>
                            <th width="120">Status</th>
                            <th width="200">Modified Date</th>
                            <th width="120">Action</th>
                        </tr>
                    </thead>
                    <tbody id="NoticeTbl">


                        @*@if (Model != null && Model.Count > 0)
                        {
                            int SNO = 1;
                            foreach (Tender TR in Model)
                            {
                                <tr>
                                    <td>@SNO</td>
                                    <td>@TR.Project</td>
                                    <td>@TR.Status</td>
                                    <td>@TR.ModifiedOn</td>
                                    <td><a href="javascipt:void(0)" data-id="@TR.GUID" class="editTenderNoticebtn">Edit</a> | <a href="javascipt:void(0)" data-toggle="modal" id="deletebtn" data-uniquecode="@TR.GUID" data-target="#delete">Delete</a></td>

                                </tr>
                                SNO++;
                            }

                        }*@


                    </tbody>
                </table>
                <div class="padding10"></div>
                <!--div class="pagination"> <a href="#">&laquo;</a> <a class="active" href="#">1</a> <a href="#">2</a> <a href="#">3</a> <a href="#">...</a> <a href="#">7</a> <a href="#">8</a> <a href="#">9</a> <a href="#">&raquo;</a></div>
                <div class="padding10"></div-->
            </div>
        </div>



        <div class="tenderContainer results">
            <div class="floatRight">
                <a href="javascript:void(0)" data-toggle="modal" data-target="#addResult" id="addResultebtn" class="editMetaBtn">Add Result</a>
                @*<a href="#" class="editMetaBtn" data-toggle="modal" data-target="#addResult">Add Result</a>*@
            </div>
            <div class="clear padding10"></div>
            <div class="homepage">
                <table cellpadding="0" cellspacing="0" class="tblgrey"  id="TenderResultTbl">
                    <thead>
                        <tr>
                            <th width="60">S/N</th>
                            <th width="120">Closing Date</th>
                            <th>Project</th>
                            <th width="120">Status</th>
                            <th width="200">Modified Date</th>
                            <th width="120">Action</th>
                        </tr>
                    </thead>
                    <tbody id="ResultTbl">
                       
                        
                            @*@if (Model != null && Model.Count > 0)
                            {
                                int SNO = 1;
                                foreach (Tender TR in Model)
                                {
                        <tr>
                            <td>@SNO</td>
                            <td>@TR.ClosingDate</td>
                            <td>@TR.Project</td>
                            <td>@TR.Status</td>
                            <td>@TR.ModifiedOn</td>
                            <td><a href="javascipt:void(0)" data-id="@TR.GUID" class="editTenderResultbtn">Edit</a> | <a href="javascipt:void(0)" data-toggle="modal" id="deletebtn" data-uniquecode="@TR.GUID" data-target="#delete">Delete</a></td>

                        </tr>
                                SNO++;
                            }

                        }*@

                        @*  @Html.Partial("PartialResultView")*@

                        </tbody>
                  
                </table>
                <div class="padding10"></div>
                <!--div class="pagination"> <a href="#">&laquo;</a> <a class="active" href="#">1</a> <a href="#">2</a> <a href="#">3</a> <a href="#">...</a> <a href="#">7</a> <a href="#">8</a> <a href="#">9</a> <a href="#">&raquo;</a></div>
                <div class="padding10"></div-->
            </div>
        </div>



        <div class="tenderContainer awarded">
            <div class="floatLeft">
                <select class="filter">
                    <option disabled>Filter by Year</option>
                    <option selected>2020</option>
                    <option>2019</option>
                    <option>2018</option>
                </select>
                <a href="#" class="searchBtn"><img src="images/search-icon.png"></a>
            </div>
            <div class="floatRight">
                <a href="javascript:void(0)" data-toggle="modal" data-target="#addAwarded" id="addAwardedebtn" class="editMetaBtn">Add Awarded</a>
                @*<a href="#" class="editMetaBtn" data-toggle="modal" data-target="#addAwarded">Add Awarded</a>*@
            </div>
            <div class="clear padding10"></div>
            <div class="homepage">
                <table cellpadding="0" cellspacing="0" class="tblgrey">
                    <thead>
                        <tr>
                            <th width="60">S/N</th>
                            <th width="120">Closing Date</th>
                            <th>Project</th>
                            <th width="120">Status</th>
                            <th width="200">Modified Date</th>
                            <th width="120">Action</th>
                        </tr>
                    </thead>
                    <tbody id="AwardedTbl">
                      
                            @*@if (Model != null && Model.Count > 0)
                            {
                                int SNO = 1;
                                foreach (Tender TR in Model)
                                {
                                <tr>
                                    <td>@SNO</td>
                                    <td>@TR.ClosingDate</td>
                                    <td>@TR.Project</td>
                                    <td>@TR.Status</td>
                                    <td>@TR.ModifiedOn</td>
                                    <td><a href="javascipt:void(0)" data-id="@TR.GUID" class="editTenderAwardedbtn">Edit</a> | <a href="javascipt:void(0)" data-toggle="modal" id="deletebtn" data-uniquecode="@TR.GUID" data-target="#delete">Delete</a></td>

                                </tr>
                                SNO++;
                            }

                        }*@
                           
                        </tbody>
                   
                </table>
                <div class="padding10"></div>
                <!--div class="pagination"> <a href="#">&laquo;</a> <a class="active" href="#">1</a> <a href="#">2</a> <a href="#">3</a> <a href="#">...</a> <a href="#">7</a> <a href="#">8</a> <a href="#">9</a> <a href="#">&raquo;</a></div>
                <div class="padding10"></div-->
            </div>
        </div>
    </form>
</div>

<!-- Popup (delete) -->
<div class="modal fade" id="delete" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog">
        <div class="modal-content deletealert">
            <div class="modal-header">
                <div class="title">Delete Tender</div>
                <div class="close" data-dismiss="modal" aria-hidden="true">Close [X]</div>
                <div class="clear"></div>
            </div>
            <div class="modal-body">
                <div class="container" style="text-align:center;">
                    <p><strong>Are you sure to delete this tender?</strong></p>
                    <div class="padding10"></div>


                    @using (Html.BeginForm("DeleteTender", "NewsRoom", FormMethod.Post, new { enctype = "multipart/form-data", id = "DeleteMediaReleaseForm" }))
                    {
                        @Html.AntiForgeryToken()
                        <input type="hidden" name="EncryptedId" id="deleteeventId" />
                    }
                    <input type="button" class="submitBtn" id="confirm_deleteiconBtn" value="Delete">




                    @*<input type="button" class="submitBtn" value="Delete">*@
                    <div class="clear padding10"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Popup (edit Notice) -->
<div class="modal fade" id="editNotice" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog">
        <div class="modal-content editalert">
            <div class="modal-header">
                <div class="title">Edit Tender Notice</div>
                <div class="close" data-dismiss="modal" aria-hidden="true">Close [X]</div>
                <div class="clear"></div>
            </div>
            <div class="modal-body">
                <div class="container">
                    @using (Html.BeginForm("AddNotice", "NewsRoom", FormMethod.Post, new { enctype = "multipart/form-data", id = "EditNoticeForm" }))
                    {

                    }
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Popup (add Notice) -->
<div class="modal fade" id="addNotice" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog">
        <div class="modal-content editalert">
            <div class="modal-header">
                <div class="title">Add Tender Notice</div>
                <div class="close" data-dismiss="modal" aria-hidden="true">Close [X]</div>
                <div class="clear"></div>
            </div>
            <div class="modal-body">
                <div class="container">
                    @using (Html.BeginForm("AddNotice", "NewsRoom", FormMethod.Post, new { enctype = "multipart/form-data", id = "AddNoticeForm" }))
                    {

                    }
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Popup (edit Result) -->
<div class="modal fade" id="editResult" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog">
        <div class="modal-content editalert">
            <div class="modal-header">
                <div class="title">Edit Tender Result</div>
                <div class="close" data-dismiss="modal" aria-hidden="true">Close [X]</div>
                <div class="clear"></div>
            </div>
            <div class="modal-body">
                <div class="container">
                    @using (Html.BeginForm("AddNotice", "NewsRoom", FormMethod.Post, new { enctype = "multipart/form-data", id = "EditResultForm" }))
                    {

                    }

                </div>
            </div>
        </div>
    </div>
</div>

<!-- Popup (add Result) -->
<div class="modal fade" id="addResult" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog">
        <div class="modal-content editalert">
            <div class="modal-header">
                <div class="title">Add Tender Result</div>
                <div class="close" data-dismiss="modal" aria-hidden="true">Close [X]</div>
                <div class="clear"></div>
            </div>
            <div class="modal-body">
                <div class="container">
                    @using (Html.BeginForm("AddNotice", "NewsRoom", FormMethod.Post, new { enctype = "multipart/form-data", id = "AddResultForm" }))
                    {

                    }
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Popup (edit Awarded) -->
<div class="modal fade" id="editAwarded" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog">
        <div class="modal-content editalert">
            <div class="modal-header">
                <div class="title">Edit Tender Awarded</div>
                <div class="close" data-dismiss="modal" aria-hidden="true">Close [X]</div>
                <div class="clear"></div>
            </div>
            <div class="modal-body">
                <div class="container">
                    @using (Html.BeginForm("AddNotice", "NewsRoom", FormMethod.Post, new { enctype = "multipart/form-data", id = "EditAwardedForm" }))
                    {

                    }
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Popup (add Awarded) -->
<div class="modal fade" id="addAwarded" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog">
        <div class="modal-content editalert">
            <div class="modal-header">
                <div class="title">Add Tender Awarded</div>
                <div class="close" data-dismiss="modal" aria-hidden="true">Close [X]</div>
                <div class="clear"></div>
            </div>
            <div class="modal-body">
                <div class="container">
                    @using (Html.BeginForm("AddNotice", "NewsRoom", FormMethod.Post, new { enctype = "multipart/form-data", id = "AddAwardedForm" }))
                    {

                    }
                </div>
            </div>
        </div>
    </div>
</div>


@section scripts
{
    <script>


        $(document).ready(function () {
            $("#AddEvents").attr("style", 'height:45px !important')
        });


        //Notices
        $('input[name=uploadAttach_PDF]').change(function () {
            document.getElementById("uploadFile_PDF").value = $(this).val();
        });
        $('input[name=uploadAttach_PDF_2]').change(function () {
            document.getElementById("uploadFile_PDF_2").value = $(this).val();
        });

        //Results
        $('input[name=uploadAttach_PDF_3]').change(function () {
            document.getElementById("uploadFile_PDF_3").value = $(this).val();
        });
        $('input[name=uploadAttach_PDF_4]').change(function () {
            document.getElementById("uploadFile_PDF_4").value = $(this).val();
        });

        //Awarded
        $('input[name=uploadAttach_PDF_5]').change(function () {
            document.getElementById("uploadFile_PDF_5").value = $(this).val();
        });
        $('input[name=uploadAttach_PDF_6]').change(function () {
            document.getElementById("uploadFile_PDF_6").value = $(this).val();
        });

        $('.tenderContainer').hide();
        $('.tenderContainer.notices').show();
        $('#filterByType').change(function () {
            var x = $(this).val();
            $('.tenderContainer').hide();
            if (x == "notices") {
                $('.tenderContainer.notices').fadeIn(200);
            } else if (x == "results") {
                $('.tenderContainer.results').fadeIn(200);
            } else if (x == "awarded") {
                $('.tenderContainer.awarded').fadeIn(200);
            }
        });
    </script>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/js/bootstrap-datetimepicker.min.js"></script>

    <script src="@appPath/Contents/Admin/js/jqueryPagination/simplePagination.js"></script>
    <script src="@appPath/Contents/Admin/js/jqueryValidate/jquery.validate.js"></script>
    <script src="@appPath/Contents/Admin/js/jqueryValidate/additional-methods.js"></script>

    <script src="@appPath/Contents/Admin/js/Custom/Tender.js"></script>


}
